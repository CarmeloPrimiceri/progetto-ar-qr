<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Generatore QR Code - Spiritelli AR</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }

        h1 {
            color: #1a1a2e;
            text-align: center;
            margin-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }

        .instructions {
            background: #e8f5f5;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border: 2px solid #5ce1e6;
        }

        .instructions h2 {
            color: #1a1a2e;
            margin-top: 0;
        }

        .qr-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .qr-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
            page-break-inside: avoid;
        }

        .qr-card h3 {
            color: #5ce1e6;
            margin-bottom: 5px;
            font-size: 1.3em;
        }

        .qr-number {
            font-size: 2em;
            font-weight: bold;
            color: #1a1a2e;
            margin-bottom: 10px;
        }

        .qr-code {
            margin: 20px auto;
            padding: 20px;
            background: white;
            border: 3px solid #5ce1e6;
            border-radius: 10px;
            display: inline-block;
        }

        .description {
            color: #666;
            font-size: 14px;
            margin-bottom: 10px;
            line-height: 1.4;
        }

        .download-btn {
            background: #5ce1e6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 10px;
        }

        .download-btn:hover {
            background: #38b6ff;
        }

        .print-btn {
            background: #38b6ff;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1em;
            margin: 30px auto;
            display: block;
            box-shadow: 0 4px 15px rgba(56, 182, 255, 0.3);
        }

        .print-btn:hover {
            background: #1a9ce6;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(56, 182, 255, 0.4);
        }

        .marker-value {
            font-family: monospace;
            background: #f0f0f0;
            padding: 4px 8px;
            border-radius: 3px;
            font-weight: bold;
        }

        @media print {
            body {
                background: white;
            }

            .instructions,
            .print-btn,
            .download-btn {
                display: none;
            }

            .qr-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .qr-card {
                break-inside: avoid;
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
<h1>üåà Generatore QR Code per Spiritelli AR</h1>
<p class="subtitle">Sistema di marker QR per l'esperienza in Realt√† Aumentata</p>

<div class="instructions">
    <h2>üìã Istruzioni per l'uso:</h2>
    <ol>
        <li><strong>Stampa i QR Code:</strong> Ogni QR contiene un valore numerico (0-7) che AR.js riconoscer√†</li>
        <li><strong>Dimensioni consigliate:</strong> 10x10 cm per una rilevazione ottimale</li>
        <li><strong>Posizionamento:</strong> Distribuisci i QR nel percorso secondo l'ordine della storia</li>
        <li><strong>Illuminazione:</strong> Assicurati che i QR siano ben illuminati e non riflettenti</li>
        <li><strong>Distanza ottimale:</strong> L'utente dovrebbe inquadrare il QR da 30-50 cm di distanza</li>
    </ol>

    <h3>‚ö° Suggerimenti per il percorso:</h3>
    <ul>
        <li>QR 0 (Inizio) ‚Üí All'ingresso del percorso</li>
        <li>QR 1-2 ‚Üí Prima diramazione della storia</li>
        <li>QR 3-4 ‚Üí Continuazione percorso blu</li>
        <li>QR 5-6 ‚Üí Sviluppo del conflitto</li>
        <li>QR 7 ‚Üí Gran finale con tutti gli spiritelli</li>
    </ul>
</div>

<div class="qr-grid" id="qrGrid"></div>

<button class="print-btn" onclick="window.print()">üñ®Ô∏è Stampa tutti i QR Code</button>

<script>
    const qrData = [
        {
            id: 0,
            name: "Inizio - Spiritello Base",
            description: "Il punto di partenza dell'avventura. Lo spiritello accoglie l'avventuriero nel mondo magico.",
            color: "#5ce1e6",
            position: "Ingresso del percorso"
        },
        {
            id: 1,
            name: "Spiritello Giallo - Pacchi",
            description: "Lo spiritello che sta perdendo i suoi pacchi. Chiede aiuto per raccoglierli.",
            color: "#FFD700",
            position: "Prima tappa - Bivio sinistro"
        },
        {
            id: 2,
            name: "Spiritello Blu - Acqua",
            description: "Corre verso il tubo che perde. L'inizio del percorso dell'acqua.",
            color: "#0080FF",
            position: "Prima tappa - Bivio destro"
        },
        {
            id: 3,
            name: "Blu 2 - Il Tubo",
            description: "Il tubo che perde acqua. L'avventuriero deve chiuderlo.",
            color: "#0080FF",
            position: "Vicino a una fontana o rubinetto"
        },
        {
            id: 4,
            name: "Blu 3 - Ringraziamento",
            description: "Lo spiritello blu ringrazia per l'aiuto e d√† consigli ecologici.",
            color: "#0080FF",
            position: "Fine percorso acqua"
        },
        {
            id: 5,
            name: "Spiritello Rosa - Fiori",
            description: "Triste per i suoi fiori calpestati. Innesca la ricerca del colpevole.",
            color: "#FFB6C1",
            position: "Area con piante o giardino"
        },
        {
            id: 6,
            name: "Spiritello Rosso - Il Cattivo",
            description: "Lo spiritello arrabbiato che fa dispetti. Rivela le sue motivazioni.",
            color: "#FF0000",
            position: "Angolo appartato"
        },
        {
            id: 7,
            name: "Finale Arcobaleno",
            description: "Tutti gli spiritelli si riuniscono per il gran finale. Messaggio di speranza.",
            color: "#9400D3",
            position: "Area centrale/finale del percorso"
        }
    ];

    // Genera i QR Code
    const qrGrid = document.getElementById('qrGrid');

    qrData.forEach(data => {
        // Crea la card
        const card = document.createElement('div');
        card.className = 'qr-card';

        // Contenuto della card
        card.innerHTML = `
                <div class="qr-number">QR ${data.id}</div>
                <h3>${data.name}</h3>
                <p class="description">${data.description}</p>
                <p class="description"><strong>Posizione suggerita:</strong> ${data.position}</p>
                <div id="qr-${data.id}" class="qr-code"></div>
                <p>Valore marker: <span class="marker-value">${data.id}</span></p>
                <button class="download-btn" onclick="downloadQR(${data.id})">Scarica PNG</button>
            `;

        qrGrid.appendChild(card);

        // Genera il QR Code
        new QRCode(document.getElementById(`qr-${data.id}`), {
            text: data.id.toString(),
            width: 200,
            height: 200,
            colorDark: "#000000",
            colorLight: "#ffffff",
            correctLevel: QRCode.CorrectLevel.H
        });
    });

    // Funzione per scaricare singolo QR
    function downloadQR(id) {
        const canvas = document.querySelector(`#qr-${id} canvas`);
        const link = document.createElement('a');
        link.download = `spiritelli-qr-${id}.png`;
        link.href = canvas.toDataURL();
        link.click();
    }
</script>
</body>
</html>